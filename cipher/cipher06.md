암호론 06
=========

발표 : 에니그마
===============

-	무엇인가
-	구조
-	암호화
-	복호화
-	약점

무엇인가
--------

-	상업적 목적 → 군사적 목적

에니그마 구조
-------------

-	키보드 → 평문, 암호문 입력
-	라이트보드 → 암호화/복호화된 값이 나옴 (키보드모양)
-	플러그 보드
	-	연결로 치환. permutation (치환). → A가 C로 가면 C로만 갈 수 있음 (1:1 대응, 치환)
-	리플렉터 (반사기)
	-	플러그 보드와 유사한 역할
	-	13쌍 모두 대응 → 자기 자신이 출력되지 않도록 (A ↔ C, B ↔ D, ...)
-	로터
	-	3개의 로터 → 점점 증가
	-	키보드를 한 번 누를때마다 제일 오른쪽 로터 회전 ...
	-	오른쪽 로터 한 바퀴 → 그 다음 한 바퀴...
	-	대칭이 아니라 그냥 연결임 (전사)

에니그마의 암호화
-----------------

-	키보드 입력
-	→ 플러그보드 (값 변화)
-	→ 로터 (값 변화)
-	→ 리플렉터 (값 변화)
-	→ 로터 (값 변화)
-	→ 플러그보드 (값 변화)
-	→ 라이트보드

복호화
------

-	암호문을 입력하면 나옴.

약점
----

-	통신키 2번 반복
-	통신키 선택자가 사람
-	코드북 배송이 필요
-	→ 키가 노출될 수 있다

정리
----

-	치환을 통한 암호화.
-	복호화는 거꾸로. ← 1:1 대응 관계가 있기 때문
-	다른 책의 rotr 암호를 보면 이해하기 쉬움
-	왜 해보라고 했는가
	-	치환이 중요하다 : 의미를 알아라
	-	→ DES 암호에서도 쓰임
	-	다른데 적용 가능

발표 2 : 이동전화 통신 과정
===========================

-	탈취되지는 않을까?
-	목차
	-	역사 → 통신과정 → CDMA

진화과정 (역사)
---------------

-	1G : AMPS (아날로그 방식)
	-	일정 주파수 대역에서 한 명만 가능...
-	2G : CDMA (디지털 변조방식)
	-	다수 사용자가 통화 가능
-	3G : CDMA2000, WCDMA
-	4G : LTE
-	달라진게 크게 없기에 3G 기반 설명

통신 과정
---------

-	휴대전화 → 기지국 → 중계소 → 기지국 → 휴대전화

교수님 잡담
-----------

-	컴공 나오면 네트워크 통신은 배워야
-	서버 운영 할 줄 알아야
-	리눅스, 통신에 대해서는 교양으로 조금씩 습득해야!
-	왜 하라고 했는가
	-	암호는 수신자, 송신자가 있음
	-	→ 공중파를 통해
	-	→ 서로 암호화를 해야
	-	← 네트워크 구조를 알아야 암호가 어떻게 도움이 되는지 알 수 있음

통신 과정 (칠판)
----------------

-	전송자 / 수신자
	-	A → a
	-	B → b
	-	C → c
	-	D → d
-	A,B,C,D 신호가 합쳐져서 기지국으로 들어온다
	-	전송 : 음성 신호 + PN 코드
	-	구분이 안 된다 → PN 코드를 부여
		-	PN 코드 : 통신의 코드
	-	PN 코드로 암호화, PN 코드로 복호화
		-	PN 코드에 맞지 않으면 잡음으로 생각, 넘긴다
-	4조개 가능 → 암호화에 제격
-	대역폭을 크게 전송
-	주파수는 한정된 자원 : 사고 판다 → 방송 주파수를 어디에 팔 것인가
-	어떻게 그렇게 빨리 보낼까 등의 궁금증

챕터 4 대칭 암호 (공통 키 암호)
===============================

섹션 3 DES란
------------

-	대칭키 암호, 블록 암호
-	어떻게 설계되어있냐
-	테이블에 의해 치환, 64비트씩... → 굉장히 간단하다
-	XOR 연산 활용
-	암호화, 복호화 → 역함수가 되어야 복호화 가능
-	→ 수학적 구조를 먼저 살펴보고! DES를!

먼저 보는 수학적 암호 : 타 교재 6장. 현대 대칭키 암호 소개
----------------------------------------------------------

### 개요

-	대칭키 암호 : 양 쪽이 같은 키로 암호화, 복호화
-	차이점 : 현대 대칭키 암호 vs 고전 대칭키 암호
-	블록 암호가 대치 암호로 설계되어야 하는 이유
	-	블록 : 암호화의 일정 단위
	-	대치 암호 : substitution (다른 문자로 바꿈, 대치) → permutation과는 다르다!
-	S-박스, P-박스
	-	permutation, substitution, 전치를 이용해 만드는 테이블
	-	이 두 개가 블록 암호에서 어떤 역할을 하는지
-	해시 암호 : 많은 양을 줄인다...
-	차분 분석, 선형 분석 이런건 넘겨놓고 5가지 정도를 알아야 대칭키 암호를 이해

### 5.1 현대 블록 암호

-	n비트 블록을 암호화 / 복호화
-	k비트 키 사용
	-	64bit, 128bit, 512bit
	-	키와 복호화 등의 암호를 운영하는 방법에 따라 **모드**들이 달라짐
-	XOR 2번하면 원래대로 돌아옴
-	치환, 대치, 전치를 알아야 현대 대칭키 암호를 알 수 있다

---

-	k >= n 이어야
-	암호화와 복호화의 개념을 그림으로.

---

-	예제
	-	블록을 64비트로 지정 → 모자르면 채워야
	-	→ **padding** 이라고 함

---

-	현대 블록 암호 : 대치 암호 or 전치 암호
	-	전치 : 위치만 변경
	-	대치 : 문자를 다른걸로 바꿈
		-	permutation 이 아님 → 어떤 길로 갔을지 알 길이 없음

---

-	예 5.2 : 블록이 64개일때 전수조사 시행착오 횟수
	-	대치 암호 : 2^64 개 (0인지 1인지 몰라)
	-	전치 암호 : `64 C 10` = `64 ! / ( 54 ! * 10 ! )`
-	DES 이론적으로 깨짐 : 슈퍼컴퓨터... 전수조사 → 쓰지만 다른 공개키 암호와 섞어쓴다

---

#### 현대 블록암호는 군인가?

#### 군?

![그림들]()

#### 현대 블록암호는 군인가?

전체 사이즈키 전치 블록 암호 (Full-Size Key Transp)는.....

yes. 64비트 (블록크기) 를 위치변경

#### example 5.3 : 블록 길이 = 3비트인 블록 전치암호의 모델 / 치환표 집합을 보여라

-	치환표 집합 : 3개 바꾸기 : 3! = 6
-	지붕정수함수(log2 6) = 3

![필기 그림들]()

-	전체 사이즈키 대치 암호는 치환으로 모델화될 수 없다? ← ???
-	부분군, 부분키 라는 용어를 알아두세요
	-	DES 등에서 1,2,3,4, ... 라운드를 할 수 있음
	-	각각의 라운드의 키
	-	→ 첫 번째 라운드의 키를 이용해 2번재 키를... → 부분키들이 만들어진다

### 5.1.3

일반적으로 현대 블록 암호는 **부분 키 대치암호**다

-	키를 부분부분 생성해내서 대치하는 방식 (전치가 아니다! ← 아까까지 한 거)
	-	→ 빠질수도, 반복될수도
-	입력 값으로부터 출력 값으로 대응시키는 가능한 모든 경우 중 일부분의 대응만을 정의
-	세 종류의 P-박스
	-	Straight : 전치
	-	Compression : 압축 (예 : 2, 4는 빼먹)
	-	Expansion : 확장 (1 → 1, 4 / 3 → 2, 3)

#### 단순 P박스

-	치환!
-	치환테이블 : n 번째에 있는 걸 해당 위치에 둬라
-	→ IP 치환 (initial permutation) : 들어오면 처음에 치환
-	예) 설계해봐라 → 필요없어!

#### 축소 P박스

-	32 x 24 : 32개를 24개로.
-	안 나오는게 있음

#### 확장 P 박스

-	12 x 16 : 12개를 16개로.
-	반복되는 녀석 있음

#### 치환 테이블의 역 테이블을 구해보기

역함수를 만들어내는 과정. 결과적으로 자기 자신이 자기 자신으로 돌아올 수 있게 만드는 과정

-	1.
	-	635421 : 원래 테이블
-	2.
	-	635421
	-	123456 : indices (input 위치)
-	3. 위아래 바꿈
	-	123456
	-	635421 ← 4번에서 얘를 정렬
-	4.
	-	652341
	-	123456 → 산출결과가 123456이 되게 됨.

축소, 확대는 역함수가 없... ? (못들음)

### S-box

m x n 대치 단위

#### 예로 알아보기

-	x1 + ... ???
-	뭔가 배열을 곱한다?
-	선형일 때에는 역함수가 존재한다
	-	y = x^2 → x = +-sqrt(y) → 역함수 없음...
-	비선형 → 역함수 존재하지 않음
	-	y1= x1^3 + x2
	-	y2 = x1^2 + x1x2 + x3

![]()

-	함수로, 배열
-	역함수가 존재할수도 있고, 없을수도
-	역함수가 있으면 입출력 숫자가 같음
-	역원...?. ...? .. ? ? .. ? ........?

### 순환 이동 (Circular Shift)

-	이런 요소들을 알아야 DES 이해 가능
-	비트의 round shift.
	-	left, right shift

### Swap

-	교체
-	앞뒤를 바꿔준다

### 분할, 결합

-	비트연산시 분할했다가 연산하고 결합하는 것

### 합성 암호 → 나중에

-	Shannon 합성 암호
-	혼돈 / 확산
	-	혼돈 : 암호문과 키의 관계를 못 알게
		-	대치, 치환
	-	확산 : 암호문과 평문의 거리를 멀게
-	라운드 (Roun)
	-	S박스, P박스, 기타 구성 요소들을 결합하여 설계한 합성 암호를 반복적으로 사용함

### ㅁㄴㅇㄹ

-	합성 암호 등..
-	블록 암호의 확산과 혼돈
	-	과정 그림들. 으엑...

### 현대 블록 암호는 모두 합성 암호이다. 하지만 두 가지로 분류됨

1.	Feistel 암호
2.	비-Feistel 암호

잠깐 설명하고 바로 DES 설명 가능.. → 교재가 DES에 대한 내용이 거의 없음

-	시험문제
	-	채워넣기, 괄호넣기, 설명 적기
	-	연습문제
	-	교재에 있는 것들 중에
	-	교과서에서**만**
	-	아핀 암호 ← A의 역원을 찾을 수 있어야 ← 유클리드 알고리즘....
		-	암호화와 복호화를 간단한 걸 해볼 수 있어야 ← 과정 쓰기 ← 임의로 key 잡아서도 가능해야
-	시험 : 다다음주 수요일
