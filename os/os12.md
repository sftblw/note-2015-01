oslec, without notebook

# 7 메모리

## 7.1 메모리 관리 요구조건

- 메모리 용어
    - 프레임
        - 고정된 길이의 주기억장치의 한 블록
    - 페이지
    - 세그먼트
- 메모리 관리의 요구조건
    - 재배치
    - 보호
    - 공유
    - 논리적 구성
    - 물리적 구성
        - 오버레이 기법 : 조금씩 가져다 쓴다 (406p)

## 7.2 메모리 분할

- 메모리 관리 기법
     - 연속 메모리 관리 vs 불연속
        - 프로그램 전체가 하나의 공간에 연속적으로 할당
        - 프로그램 일부가 서로 다른 공간에
            - 페이징
            - 세그멘테이션
- 고정 분할
    - 내부 단편화 : 고정 공간에 넣음 : 남는 공간 발생
    - 분할방식 : 균등 분할, 비균등 분할
- 동적 분할
    - 외부 단편화 : 자꾸 넣는다 : 남는 공간이 조각나는 현상 발생
    - 파티션 크기와 갯수가 가변적 : 프로세스가 요구하는 만큼만 할당함

### 동적 분할

- 배치 알고리즘
    - **최초** 적합 : 성능이 제일 좋더라
    - **최적** 적합 : 좋을 거 같지만 좀
    - **순환** 적합 : 포인터 옮기지 말고 순환하다 제일 가까운 데에 하자

### 버디 시스템

- 고정, 동적 모두 단점 \-> 절충안
    - 고정 : 프로세스 갯수가 제한
    - 동적 : 조각남
- 반반쪼개기
    - 공간이 남을떄까지 쪼개고 쪼개서 준다
- 병렬 시스템에서 쓰고, 일반 운영체제에서는 쓰지 않는다

### 재배치 (Reallocation)

- 메모리 종류
    - 논리 주소
        - 실제 접근 전에 물리 주소로 바꿔야
    - 상대 주소
        - 논리 주소의 특수 예
        - 상대적인 위치
    - 물리 주소
- 이걸 해주는게 MMU (Memory Management Unit, 주소변환기

## 7.3 페이징

- 프레임 (페이지 프레임) : 빈 공간 혹은 페이지가 들어가는 곳
- 페이지 : 프로세스 조각
- 집어넣기
    - 프로세스가 연속된 프레임에 다 못 들어간다 : 프로세스를 쪼개서 집어넣는다 (2페이지, 3페이지 등의 방식)

---

- 그래서 주소는?
    - 상대주소
    - 프로세스의 페이지 테이블 : 각 페이지가 몇 번 프레임에 들어있는지 기록
    - 주소는 프레임 번호와 오프셋으로 나타남 : 처리기가 하드웨어적으로 변환
- 페이징 기법
- 세그멘테이션도 쓴다

## 7.4 세그먼테이션

- ?????????????
- 프로세스를 크기 안 같은 조각

## 7.5 보안

## 7.6 요약

- 그러하다

# 8장 가상메모리

> 인생이 가상이여!

## 8.1 하드웨어와 제어 구조

- 용어
    - 가상 메모리
    - 가상 주소
    - 가상 주소 공간
    - 주소 공간
    - 실주소 (real address)
- 스토리
    - 블록 : 프로세스 조각 (페이지 혹은 세그먼트)
    - 적재 집합 (Resident set) : 진짜로 메모리에 올라와있는 블록 집합
    - 메모리 접근 오류 : 일어나면 프로그램을 블락시키고 접근하려고 했던 부분을 적재시킨다

---

- 이야 넓다
    - 주기억장치 : 실기억장치 (real memory)
    - 가상메모리 : 훨씬 큰 잠재적 메모리?

### 지역성과 가상메모리

- MMU 가 한다.
- 지역성의 원리 : 공간적, 시간적으로 가까우니까! (라는 믿음)
    - 공간적 지역성
    - 시간적 지역성
- 쓰레싱? : 하라는 수행은 안 하고 블록 교체에 대부분의 시간을 소비하는 짓거리

### 페이징

- 방식마다 다르다
- 대표적 : P (존재 비트), M (수정 비트)
    - 페이지 테이블 항목 에서.
    - 세그먼트 테이블 항목 에서.

---

- 너무 커
    - 페이지 테이블이 크다 \-> 주기억장치 보다 더 큰 적재영역 요구
- 해결법
    - 여러가지
    - 계층구조?

### TLB

- 가상 메모리 구조 : 메모리 두 번 : 오래걸린다
- \-\> : 페이지 테이블 항목만 캐싱 : 특수 고속 캐시 사용
- Translation Lookaside Buffer
- 연관 사상 (associative mapping) 부분 놓침.

### 페이지 크기와 페이지 Fault 발생의 관계

- 459페이지 그림 8.1

### 세그먼테이션 : 페이징의 결합

- 프로세스 하나 \-}> 세그먼트 테이블, 세그먼트 하나 \-}> 페이지 테이블

---

# 시험 관련

- 다음주 11시 여기서.

---

- 성적

중간 | 기말 | 출석 | 과제1   | 과제2  | 과제3
-----|------|------|---------|--------|-------
30   |   40 |   10  |  20 : 7 | 20 : 7 | 20 : 7

- 36명
- A는 30% : 10.8 명 : 10명
- B 14명
- C 12명

---

- 객관식 없음

---

1. 운영체제란 무엇인가
2. 프로그래밍 과제 2개. 변수이름 살짝씩 바꿈, 빈칸채우기, 틀린거 고르기

---

4장

3. 4장 : 프로세스와 스레드, 정의, 특성, 비교 (216~220)
4. (256~258) 윈도, 리눅스 스레드 기능 비교

---

5장

5. 5장 : (271~288) 용어정의
6. (286) 하드웨어 기법을 이용한 Mutual Exclusion 기법 (두 가지 라는듯)
7. (302, 303, 307) Program Pseudo-code : 세마포어, 모니터 등의 알고리즘을 구분하는 의사코드.

---

6장

8. 데드락 발생조건 (필요, 필요충분 뭐 그런 거) (351~352
9. 교착상태 회피를 위한 Banker's Algorithm( Safe?) (356~360)
10. 프로그램 의사 코드 (367, 368, 369p

---

7장

11. 내부 / 외부 단편화, 정의, 문제점, 해결방법? ( 408, 411)
12. 논리 / 물리 주소 란 무엇? 주소변환? (그림 그려가면서 설명해야) (417~418)
13. 페이징 / 세그먼테이션 비교, 각각이 무엇인지 (;417, 418)

---

8장

14. 페이징 시스템에서의 주소 변환은 어떻게 하는지 (451, 452)
15. 세그멘테이션 시스템에서 주소변환은 어떻게 하는지 (461, 462)
16. 페이징 + 세그멘테이션 (462, 463)

중요 : 주소변환을 어떻게 하는지.

8문제 정도 나오더라.
