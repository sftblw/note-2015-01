시험 결과. 절망적. (59점) 아자!

복습
====

-	1:1, M:1, 1:N, M:N

4.2 대칭적 다중처리
-------------------

-	전통적 관점 : 컴퓨터 = 순차적 기계 (순차적으로 실행)
-	→ 5, 6장에서는 순차적이지 않은 것을 배움
-	병렬적 기능 수행 ← Parallelism
	-	ex) 명령어 파이프라이닝
	-	프로그램 = 명령어 + 데이터
-	병렬의 두 가지 접근법
	-	SMP : 대칭형 다중처리 (Symmetric MultiProcessors)
	-	클러스터 (16장)
-	컴퓨터 시스템의 분류 (by Flynn [논문 FLYN72])
	-	SIMD, MIMD가 중요
		-	계층형으로 처리할 수 있게 되어있음
	-	SISD (Single Instruction Single Data stream)
	-	SIMD (Single Instruction Multiple Data stream)
	-	MISD (Multiple Instruction Single Data stream)
	-	MIMD (Multiple Instruction Multiple Data stream)
-	병렬 처리기들의 분류 그래프
	-	병렬 처리기
		-	SIMD (단일 명령어 → 다중 데이터)
		-	MIMD (다중 명령어 → 다중 데이터)
			-	공유 메모리 (강결합)
				-	주/종
				-	**SMP** (대칭형 다중처리)
			-	분산 메모리
				-	클러스터

### SMP의 구성

-	머리가 여러개 :
	-	그림 4.9 : CPU만 여러개, 모두 버스(통신 통로)에 이어둔다
	-	대칭적 == 서로 동등함 (CPU) ← 주 / 종의 서비스하는 구조가 아닌 각자 일을 함
-	캐시 일관성 문제
	-	→ 다른 캐시에 메모리 변경 여부를 통지해야
	-	현실적으로 DB에서 중요한 문제.
	-	→ 전통적 : OS가 아니라 HW에 의해 처리

### 그래서 SMP의 운영체제 설계는 어떻게?

-	처리기 갯수와 상관없이 프로그래밍할 수 있게... (읽어보고 넘어감)

4.3 마이크로커널
----------------

-	모듈화의 필요성
	-	OS는 초대형 프로그램임
	-	→ 졸 기네 → 모듈화 필요

### 구조, 종류

-	단일체 운영체제 (Monolithic) : 계층적으로 나눕시다
	-	층층이 쌓임 → 사용자 빼고 모두 커널모드 → 중간에 하나가 고장나면... (으악)
-	마이크로 커널 (MicroKernel)
	-	마이크로 커널 하나만 커널 모드고, 나머지 다 사용자모드

### 그래서...?

-	마이크로 커널
	-	핵심 OS 기능 / 함수들만 유지
		-	맞는 것 : 스케줄링, 보호, 메시지 교환 (← 더 이상 줄일수...)
		-	아닌 것 : (장치 드라이버, 파일시스템, 가상 메모리 관리자, 윈도우 시스템, 보안 서비스 등)
	-	메시지 교환을 통해 동작

### 장점? (왜?)

-	일관된 인터페이스
-	확장성
-	유연성
-	이식성 : 여러번 짤 거냐
-	신뢰성
-	분산 시스템 지원에 적합
-	객체지향 운영체제와 잘 부합
	-	어찌보면 당연
	-	컴포넌트 방식이 인기

### 성능?

-	첨엔 느렸었는데 현재는 빨라요 ^.^

### 그래서 어떤 게 계층적이고 어떤게 마이크로 커널일까요?

-	Unix : 계층적 (131p 그림 2.14)

### 마이크로커널 설계하기 (기능 및 서비스)

-	할 일
	-	저수준 메모리 관리 (Low-Level)
	-	IPC (Interprocess Communication) : 메시지, 포트, ...
	-	I/O 및 인터럽트 관리
-	저수준 메모리 관리
	-	가상 페이지 ↔ 물리적 프레임과 사상 (mapping)
	-	(주소공간 보호, 페이지 교체, 페이징 논리 등... ← 미언급)
-	프로세스간 통신
	-	어떻게 구현? : Windows, Solaris, Linux :
		-	쬐끔씩 차이남.
		-	프로세스 이름부여법
		-	프로세스 내의 스레드 지원여부
		-	프로세스의 표현 방법
		-	프로세스 자원의 보호 방법
		-	프로세스간 통신과 동기화를 위해서 사용되는 기법
		-	프로세스들이 상호 연관되는 방법

4.4 윈도우즈 스레드 & SMP 관리
------------------------------

-	윈도우의 그거... 이름 짓기 나름
	-	**객체로 구현**됨
	-	멀티스레딩
	-	6개의 스레드 상태
	-	다양한 OS 지원
	-	SMP 지원
-	**액세스 토큰 개념** ← 공유 데이터에 접근하려면 토큰이 있어야! -
-	윈도우의 프로세스 객체와 쓰레드 객체
	-	그림 4.13 (247p)

4.6 Solaris 쓰레드와 SMP 관리
-----------------------------

-	사실 스레드는 솔라리스가 제일 먼저 구현함.
-	Solaris : Sun Microsystems가 만든 Unix OS. 잘 만들었다 ← 책에 많이 나옴
-	솔라리스 스레드의 4가지 개념
	-	프로세스
	-	사용자 수준 스레드
	-	경량 프로세스 (LightWeight Process) ← LWP (**고유명사**\)
	-	커널 스레드
-	프로세스 여러개가 스레드를 돌릴 수 있다
	-	← 프로세스 여러개가 linked list 로 연결됨!
	-	ULT 뭐시기... ← 252p (추가바람)

알 게 뭐야! 이 사이의 내용은 말도 안 하고 스킵한다!

4.7 리눅스의 프로세스와 스레드 관리
-----------------------------------

-	그림 : 교수님이 추가하신 슬라이드의. 3장 19페이지 그림
-	Linux 태스크 (task_struct 자료구조)
	-	상태
		-	Runnig, Interruptable, Uninterruptable, Stopped, Zombie
		-	좀비 상태 : 아무 일도 안 하는데 자원만 잡고 있는 것
-	`clone()` : 리눅스에서는 새로운 걸 만들때 자기자신의 일부를 복제
	-	플래그 옵션이 있음
-	→ 스레드를 위한 별도의 분리된 **자료구조가 없다**
-	Tip : POSIX : Portable Operating Systems based on UNIX : Unix의 표준. 하도 종류가 많으니까... (IEEE API 표준 ← I 트리플 E라 읽음)

4.7 요약
--------

-	대칭적 다중처리, 뭐시기 뭐시기 다 Linux Solaris Windows에서 구현되어있다...

> 대칭적 다중처리는 다중처리기 시스템을 구성하는 한 방법으로, 커널 코드 및 커널 프로세스를 포함한 임ㅇ의의 프로세스 (또는 스레드) 가 임의의 처리기 상에서 수행될 수 있다. SMP 구조는 새로운 운영체제 설계 이슈들을 제기하였으며, 유사한 조건 하에서 단일 처리기 시스템보다 성능이 우수하다.
>
> 교수님 : 돈이 많이 들지.
