발표 먼저. 스레드 프로그래밍
============================

발표 1. 홀수번
--------------

-	+20 : main과 thread_function에서 +20씩 : 40이 되어야 하는데.
-	mutex, semaphore 등... ← 그거

발표 2. 홀수번
--------------

발표 3. 홀수번
--------------

-	교수님 : 디버깅 툴을 보면 더 복잡하니 찍어보세요

발표 4. 짝수번
--------------

-	안보여...

발표 5. 짝수번
--------------

-	졸려... 과제한다고 늦게잤는데 이게 뭐야 발표도 못 하고 ^^....

수업 : 5장. Concurrency (병행성) : 상호 배제(Mutual exclusion)와 동기화 (Synchronization)
=========================================================================================

개요
----

-	중요한 것 세가지
	-	다중 프로그래밍
	-	다중 처리
	-	분산 처리
-	병행성의 3가지 문맥 (넘어감)
-	배울것들
	-	상호 배제...
-	중요 단어

| 이름                          | 설명                                                                                                                                                        |
|-------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 원자적 연산(atomic operation) | 분리 불가능한 단일단위의 작업들. 다른 프로세스가 내부의 중간상태를 볼 수 없고, 연산을 중단시킬 수 없다                                                      |
| 임계영역 (Critical Time)      | 공유 자원에 접근하는 (프로세스 내부의) 코드 영역                                                                                                            |
| 교착상태 (deadlock)           | (두 개 이상의 프로세스가) 더 이상 진행할 수 없는 상태 - 343p 그림 (교차로 몸통박치기)                                                                       |
| 라이브락 (livelock)           | CPU만 뺑뺑 도는 상황. 유익하지 않은 작업을 반복적으로 수행                                                                                                  |
| 상호 배제 (race condition)    | 내가 쓰면 네가 못 쓰고, 네가 쓰면 내가 못 쓰고. / 각 프로세스들은 열심시 수행하고는 있지만, 수행하는 작업은 유용한 작업이 아닌 반복적인 상태 변화일 뿐이다. |
| 경쟁상태 (race condition)     | 같은 걸 동시에 쓰려고 경쟁 / 두 개 이상의 프로세스가 공유 자원을 동시에 접근하려는 상태.                                                                    |
| 기아상태 (starvation)         | 굶기. 매우 오랜 기간동안 스케줄링되지 못하는 경우                                                                                                           |

5.1 병행성의 원리
-----------------

-	인터리빙, 오버래핑
	-	인터리빙 : 번갈아가며 실행
		-	디스크 인터리빙 이라는것도 있음 (VOD 서버?)
	-	오버래핑 : ????

### 예로 보는 병행성

-	결론 = 동기화를 시켜주세요

### 경쟁상태 (race condition)

-	경쟁상태 : 동시에 공유 자원을 읽거나 쓰려고 하는 상태
-	상호배제 때문에 한 녀석만 계속 돌아가고 나머지 하나는 기아상태에 빠질지도.

### 프로세스간 상호작용

#### 자원에 대한 프로세스간의 경쟁

-	경쟁 관계의 프로세스에게 가능한 문제
	-	상호 배제 (mutual exclusion)
	-	교착상태 (deadlock)
	-	기아상태 (starvation)
-	대상?
	-	임계자원 (critical resoucre) : 동시에 접근 불가능한 자원
	-	임계영역 (critical section): 임계자원에 접근하는 프로그램 코드 부분
-	보통 프로그래머가 직접 작성...

#### 슬라이드 : 상호배제(mutual exclusion) 요구조건

-	어느 한 순간에는 오직 하나의 프로세스만이 임계영역(critical section)에 진입할 수 있다.
-	상호배제 : 임계영역이 아닌 곳에서 수행이 멈춘 프로세스는 다른 프로세스의 수행을 간섭해서는 안 된다.
-	무한히 미루지 않기 (zombie process 방지) : 임계영역에 접근하고자 하는 프로세스의 수행이 무한히 미뤄져서는 안 된다. 즉, 교착상태(deadlock) 및 기아(starvation)가 일어나지 않아야 한다.
-	임계영역이 비어 있을 때, 임계영역에 진입하려고 하는 프로세스가 지연되어서는 안 된다.
-	프로세서의 개수나 상대적인 프로세스 수행 속도에 대한 가정은 없어야 한다.
-	프로세스는 유한 시간 동안만 임계영역에 존재할 수 있다.

#### 상호배제를 해결하는 방법

-	entercritical(), exitcritical() 구현
-	5장의 주요 내용임

5.2 상호 배제 : 하드웨어 지원
-----------------------------

-	하드웨어적으로 지원하기.

5.3 세마포어
------------

-	주차장 전광판의 주차가능 대수
-	P 연산, V 연산 :
	-	semWait(s) : 세마포어 값을 감소시킴 / 세마포어가 음수이면 호출한 프로세스는 블락, 대기큐에 붙임
	-	semSignal(s) : 세마포어 값 증가 / 양수이면 semWait 으로 블록된 프로세스를 (대기큐에서) 깨움
	-	163p 그림 3.6 5-상태 모델
-	각 상태에 대한 큐가 있고...
-	이진 세마포어, 범용 세마포어
-	세마포어 변수의 값과 동시에 동작할 수 있는 프로세스의 갯수
-	295p 그림 5.7
-	291p 그림 5.5
